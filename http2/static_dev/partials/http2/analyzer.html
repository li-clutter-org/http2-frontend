<main id="main" role="main">
    <section class="graphs-block">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline add-nav">
                        <li class="active"> </li><!--<a href="#">Waterfall</a></li>
                         <li><a href="#">Dependencies</a></li> -->
                    </ul>
                    <div class="sorting-row">
                        <ul class="list-inline">
                            <li class="clr1">DNS</li>
                            <li class="clr2">SSL</li>
                            <li class="clr3">Sending</li>
                            <li class="clr4">Waiting</li>
                            <li class="clr5">Receiving</li>
                        </ul>
                        <!--
                        <div class="select">
                            <select>
                                <option>Sorted by X</option>
                                <option>Sorted by X</option>
                                <option>Sorted by X</option>
                            </select>
                        </div>
                        -->
                    </div>
                    <div class="table-holder">
                        <div class="table-scroll">
                            <div class="table-wrap" data-ng-switch="analysis.data.state">

                                <!-- When the state is done -->
                                <div data-ng-switch-when="done">
                                    <div id="analyzer-http" class="analyzer-http http2-push">
                                        <div class="statistics clear-both">
                                            <div d3-chars id="timechart"></div>
                                        </div>
                                    </div>
                                    <div class="analyzer-http share">
                                        <div class="pull-left disclaimers">
                                            <h3>Disclaimers</h3>
                                            <p>
                                                The current version of this site shows an approximation of how a pure
                                                HTTP/2 fetch would look of your current site.
                                                To build such an approximation, we fetch your site from our servers
                                                using a regular browser, and then serve your site in an internal
                                                network using <a href="http://hackage.haskell.org/package/second-transfer">an
                                                open source HTTP/2 library</a> to the same browser.

                                            </p>
                                            <p>
                                                Among other things, our simulation does the following:
                                            </p>
                                            <ul>
                                                <li>
                                                    The connection limit typical of HTTP/1.1 is of course lifted entirely
                                                    when fetching via HTTP/2.
                                                </li>
                                            </ul>
                                            <p>
                                                The following limitations apply:
                                            </p>
                                            <ol>
                                                <li>
                                                    We don't simulate (yet) network latency and bandwidth during the HTTP/2 fetch. For the
                                                    time being, we use some of the network timings from your live site to interpolate
                                                    HTTP/2 timing data.
                                                </li>
                                                <li>
                                                    We can't simulate very well your application-specific logic, therefore some resources
                                                    are not fetched during our simulated HTTP/2 fetch.
                                                </li>
                                            </ol>
                                        </div>
                                        <div class="pull-right">
                                            <a href="{[{ analysis.base_url }]}/analysis/status/{[{analysis.data.analysis_id}]}"
                                               class="nav-btn ng-cloak">Share these results: {[{ analysis.base_url
                                                }]}/analysis/status/{[{analysis.data.analysis_id}]}</a>
                                        </div>
                                    </div>
                                </div>

                                <!-- When the state is sent -->
                                <div data-ng-switch-when="sent">
                                    <div class="analyzer-http http2-push">
                                        <div class="statistics-resume http2-push-resume clear-both">
                                            <div class="statistics-version col-md-3"><span
                                                    pull-left>Analysis sent</span></div>
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-success active"
                                                     role="progressbar"
                                                     aria-valuenow="1" aria-valuemin="1" aria-valuemax="100"
                                                     style="width:1%">
                                                    1%
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <!-- When the state is processing -->
                                <div data-ng-switch-when="processing">
                                    <div class="analyzer-http http2-push">
                                        <div class="statistics-resume http2-push-resume  clear-both">
                                            <div class="statistics-version col-md-3"><span pull-left>Analysis in progress</span>
                                            </div>
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-success active"
                                                     role="progressbar"
                                                     aria-valuenow="{[{ analysis.data.progress }]}" aria-valuemin="0"
                                                     aria-valuemax="100" style="width:{[{ analysis.data.progress }]}%">
                                                    {[{ analysis.data.progress }]}%
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <!-- When the state is queuefull -->
                                <div data-ng-switch-when="queuefull">
                                    <p class="error">The queue is full on the server, please re-try later.</p>

                                </div>
                                <div data-ng-switch-when="failed">
                                    <p class="error">The analysis failed, please re-try later.</p>

                                </div>

                                <!-- When the state is undefined, there is not a sate yet -->
                                <div data-ng-switch-default>
                                    <p>Text explaining what the user will see as results...</p>
                                </div>


                            </div>
                        </div>
<!--                        <p>The order in the queue of this analysis is: {[{ analysis.data.analysis_order_in_queue }]}</p>
                      <p><span class="star">*</span> This test shows your app/site will be 28% faster with HTTP/2</p> -->
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
